# Non-Functional Requirements

## 1. パフォーマンス
- NFR-001: CSV取込結果でエラー/警告箇所（行/列）を特定可能であること。
- Home初期表示は体感遅延なく操作可能であること（重い処理は非同期化）。
- セッション画面の次ステップ遷移は操作直後に応答し、遷移中も入力不能時間を最小化すること。

## 2. 可用性
- NFR-002: セッション再開時に最後の進行位置を復元できること。
- 同期失敗時もローカル利用を継続し、手動再試行で回復できること。
- `cloudState=missing` 時にローカル正本を保持したまま復旧可能であること。

## 3. セキュリティ
- FR-100, FR-101, FR-104, FR-105, FR-106 を前提に公開URL運用リスクを受容しつつ運用手順で補完します。
- 監査ログへ機微情報の平文保存を禁止します。
- 端末差分（Mac/iPhone）に応じて更新可否を制御します。

## 4. ロギング/監査
- 監査対象: CSV取込、セッション開始/完了/中断、同期、復旧、アラームACK、写真更新。
- 監査メタ: `request_id/device_id/timestamp/mutationId`。
- 競合は内部適用のみとし、件数UI表示は行いません。

## 5. データ保持
- FR-102: ローカル正本、クラウドは共有/バックアップ用途。
- FR-091: 写真総量1GB上限。超過時は古い順削除で0.95GB以下へ。
- FR-092: 日次バックアップを1日1回実行し30日保持。

## 6. UX/表記
- NFR-003: 画面文言は日本語統一。
- NFR-004: アラーム表示は通常ステップより高視認。
- NFR-005: 同期失敗時は再試行導線を必須表示。
